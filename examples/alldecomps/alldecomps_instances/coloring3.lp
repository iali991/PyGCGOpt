\ This file was automatically generated by Zimpl
\ param nnodes   := read DATAFILE as "3n" use 1 comment "c";
\ do print nnodes;
\ param nedges   := read DATAFILE as "4n" use 1 comment "c";
\ do print nedges;
\ set N := {1..nnodes};
\ set I := {1..nedges};
\ set J := {1..2};
\ param Ea[I] := read DATAFILE as "2n" skip 1 use nedges comment "c";
\ param Eb[I] := read DATAFILE as "3n" skip 1 use nedges comment "c";
\ param ncolors  :=read DATAFILE as "5n" use 1 comment "c";
\ set C := {1..ncolors};
\ var x[N*C] binary;
\ var y[C] binary;
\ minimize cost: sum <c> in C : y[c];
\ subto b_use:    forall <c> in C do sum <n> in N : x[n,c] <= nnodes * y[c];
\ subto m_alco:    forall <n> in N do sum <c> in C : x[n,c] >= 1;
\ subto b_edge:     forall <i> in I do forall <c> in C do x[Ea[i],c] + x[Eb[i],c] <= 1;
\ coloring with 2 colors of an edge
Minimize
 cost:  + y#1 + y#2
Subject to
 use_1:
  -3 y#1 + x#2#1 + x#1#1 <= 0
 use_2:
  -3 y#2 + x#2#2 + x#1#2 <= 0
 node_1:
 + x#1#2 + x#1#1 >= 1
 node_2:
 + x#2#2 + x#2#1 >= 1
 edge_1_1:
  + x#1#1 + x#2#1 <= 1
 edge_2_1:
  + x#1#2 + x#2#2 <= 1
Bounds
 0 <= x#1#1 <= 1
 0 <= x#1#2 <= 1
 0 <= x#2#1 <= 1
 0 <= x#2#2 <= 1
 0 <= y#1 <= 1
 0 <= y#2 <= 1
General
x#1#1
x#1#2
x#2#1
x#2#2
y#1
y#2
End
